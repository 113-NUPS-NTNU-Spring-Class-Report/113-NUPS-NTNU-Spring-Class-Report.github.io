var d=Object.defineProperty;var r=(i,t,n)=>t in i?d(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var e=(i,t,n)=>(r(i,typeof t!="symbol"?t+"":t,n),n);import"./main-zXTf040v.js";class b{constructor(t){e(this,"content");e(this,"buttonOne");e(this,"buttonTwo");e(this,"actionOne");e(this,"actionTwo");this.content=t.content,this.buttonOne=t.buttonOne,this.buttonTwo=t.buttonTwo}setContent(t){const n=t.split(""),s=this.content;s.innerHTML.split("").length>0&&(s.innerHTML="");let l=0;function h(){l<n.length&&(s.innerHTML+=n[l++],setTimeout(h,60))}h()}toggleButton(){this.buttonOne.disabled?(u.disabled=!1,a.disabled=!1):(u.disabled=!0,a.disabled=!0)}chooseButtonOne(t){this.actionOne=t}chooseButtonTwo(t){this.actionTwo=t}runButtonOne(){this.toggleButton(),this.actionOne()}runButtonTwo(){this.toggleButton(),this.actionTwo()}setButtonText(t,n){this.buttonOne.innerText=t,this.buttonTwo.innerText=n}}class T{constructor(t,n,s){e(this,"content");e(this,"buttonOne");e(this,"buttonTwo");this.content=t,this.buttonOne=n,this.buttonTwo=s}}const w=document.querySelector("#content"),u=document.querySelector("#option-one"),a=document.querySelector("#option-two"),f=new T(w,u,a),o=new b(f);class O{constructor(){e(this,"actions",[]);e(this,"totalDelay",0);this.actions=[],this.totalDelay=0}addAction(t,n){this.totalDelay=this.totalDelay+n,this.actions.push({action:t,delay:this.totalDelay})}skip(){this.actions.length>0&&this.executeAction(!0)}start(){this.executeAction()}executeAction(t=!1){if(0<this.actions.length){let{action:n,delay:s}=this.actions[0];t!==!1?(n(),this.actions.shift()):setTimeout(()=>{n(),this.actions.shift()},s);return}}}const c=new O,g=o.buttonOne,B=o.buttonTwo;g.addEventListener("click",()=>{o.runButtonOne()});B.addEventListener("click",()=>{o.runButtonTwo()});document.body.onkeyup=function(i){i.code=="Space"&&c.skip()};c.addAction(()=>{o.setContent("你好啊")},0);c.addAction(()=>{o.setContent("我要很久哦")},4e3);c.addAction(()=>{o.toggleButton(),o.setButtonText("不要選我","你好啊"),o.chooseButtonOne(function(){o.setContent("你怎麽選我了？")}),o.chooseButtonTwo(function(){o.setContent("你好")})},4e3);c.start();
